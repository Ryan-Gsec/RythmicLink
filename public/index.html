<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RhythmicLink</title>
  <link rel="stylesheet" href="style.css">
  <!-- Include MusicKit script -->
  <script src="https://js-cdn.music.apple.com/musickit/v1/musickit.js" async ></script>
</head>
<body>
  <div class ="container">
  <h1>Welcome to RhythmicLink</h1>
  <!-- buttons on event will follow specifeid route/callbackhandler -->
  <button id="spotifyBtn">Login to Spotify</button>
  <button id="tidalBtn">Login to Tidal</button>
  <button id="appleMusicBtn">Login to AppleMusic</button>
</div>
<!-- Script logic for buttton click and configure and create instance of MusicKit -->
<script>
  document.addEventListener('musickitloaded', async () => {
    await MusicKit.configure({
      developerToken: 'eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkhBSkdZNEQ3WEoifQ.eyJpYXQiOjE3MTUyNDg2ODAsImV4cCI6MTczMDgwMDY4MCwiaXNzIjoiWTY2UDgyOFY4TCJ9.4VCdI4IoNkcgIOKSbzP-ivHob-_7eWW-zLDaZoMAo53X76zauTdeDNbmkqIGk1bxRsvK-gdH27XQr6vzLOT6CA',
      app: {
        name: "RythmicLink",
        build: "1.0.0"
      }
    });
    const music = MusicKit.getInstance();
  });
  //button click logic, button selects correct platform
  document.getElementById('spotifyBtn').addEventListener('click', function() {
    window.location.href = '/spotify/login';
  });

  document.getElementById('tidalBtn').addEventListener('click', function() {
    window.location.href = '/tidal/login';
  });
  //apple music button creates an instance of MusicKit
  document.getElementById('appleMusicBtn').addEventListener('click', async () => {
    const music = MusicKit.getInstance();
    await music.authorize();
    
  });
</script>

</body>
</html>
